<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MIRDHUNA | Premium Food Experience</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/supabase/2.39.0/supabase-js.min.js"></script>
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            heading: ['Playfair Display', 'serif'],
            body: ['Poppins', 'sans-serif']
          },
          colors: {
            primary: '#e11d48',
            secondary: '#f43f5e',
            accent: '#f97316',
            dark: '#1e293b',
            light: '#f8fafc'
          },
          animation: {
            'float': 'float 3s ease-in-out infinite',
            'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'bounce-slow': 'bounce 3s infinite'
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-10px)' }
            }
          }
        }
      }
    }
  </script>
  
  <style>
    body { 
      font-family: 'Poppins', sans-serif; 
      background: linear-gradient(135deg, #fff9f0 0%, #fff1f2 100%);
      overflow-x: hidden;
    }
    
    .hero-gradient {
      background: linear-gradient(135deg, rgba(225, 29, 72, 0.9) 0%, rgba(249, 115, 22, 0.85) 100%);
    }
    
    .menu-card {
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    .menu-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    .glass-card {
      background: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #e11d48 0%, #f97316 100%);
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(225, 29, 72, 0.3);
    }
    
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 7px 20px rgba(225, 29, 72, 0.4);
    }
    
    .history-item {
      border-left: 4px solid #e11d48;
      transition: all 0.3s ease;
    }
    
    .history-item:hover {
      transform: translateX(5px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }
    
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
      color: white;
      padding: 15px 25px;
      border-radius: 12px;
      z-index: 1000;
      opacity: 0;
      transform: translateY(-50px);
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }
    
    .toast.show {
      opacity: 1;
      transform: translateY(0);
    }
    
    .cart-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
      color: white;
      font-weight: bold;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      box-shadow: 0 4px 10px rgba(249, 115, 22, 0.4);
    }
    
    .nav-item.active {
      color: #e11d48;
      font-weight: 600;
      position: relative;
    }
    
    .nav-item.active::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 50%;
      transform: translateX(-50%);
      width: 30px;
      height: 3px;
      background: #e11d48;
      border-radius: 3px;
    }
    
    .floating-element {
      animation: float 3s ease-in-out infinite;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Counter animation */
    .counter {
      transition: all 1s ease-in-out;
    }
    
    /* Two items per slot grid - ONLY for menu */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }
    
    /* Responsive grid for other sections */
    .responsive-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1rem;
    }
    
    @media (max-width: 640px) {
      .responsive-grid {
        grid-template-columns: 1fr;
      }
    }
    
    /* Loading spinner */
    .spinner {
      border: 4px solid rgba(0, 0, 0, 0.1);
      border-left-color: #e11d48;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Status indicators */
    .status-pending { background-color: #fef3c7; color: #92400e; }
    .status-preparing { background-color: #dbeafe; color: #1e40af; }
    .status-ready { background-color: #dcfce7; color: #166534; }
    .status-delivered { background-color: #ede9fe; color: #5b21b6; }
  </style>
</head>
<body class="min-h-screen">

  <!-- Toast Notification -->
  <div id="toast" class="toast">Item added to cart!</div>

  <!-- Header -->
  <header class="hero-gradient text-white py-16 px-4 relative overflow-hidden">
    <div class="absolute top-0 left-0 w-full h-full opacity-10">
      <div class="absolute top-10 left-10 w-64 h-64 bg-white rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"></div>
      <div class="absolute top-10 right-10 w-64 h-64 bg-yellow-300 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"></div>
      <div class="absolute bottom-10 left-1/2 w-64 h-64 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"></div>
    </div>
    
    <!-- Floating food elements -->
    <div class="absolute bottom-20 left-10 floating-element">
      <div class="w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg">
        <i class="fas fa-pizza-slice text-white text-2xl"></i>
      </div>
    </div>
    <div class="absolute top-24 right-20 floating-element animation-delay-1000">
      <div class="w-12 h-12 bg-red-400 rounded-full flex items-center justify-center shadow-lg">
        <i class="fas fa-hamburger text-white text-xl"></i>
      </div>
    </div>
    <div class="absolute top-1/3 left-1/4 floating-element animation-delay-2000">
      <div class="w-10 h-10 bg-green-400 rounded-full flex items-center justify-center shadow-lg">
        <i class="fas fa-martini-glass text-white"></i>
      </div>
    </div>
    
    <div class="container mx-auto relative z-10 text-center">
      <h1 class="text-5xl md:text-7xl font-heading font-bold mb-4 tracking-tight">MIRDHUNA</h1>
      <p class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto">Experience Culinary Excellence with Every Bite</p>
      <div class="flex justify-center gap-4">
        <button onclick="showSection('menu')" class="btn-primary px-8 py-3 rounded-full font-bold text-lg shadow-lg hover:shadow-xl transition-all">
          <i class="fas fa-utensils mr-2"></i> Order Now
        </button>
        <button onclick="openLoginModal()" class="bg-white bg-opacity-20 backdrop-blur-sm px-8 py-3 rounded-full font-bold text-lg hover:bg-opacity-30 transition-all">
          <i class="fas fa-user mr-2"></i> Login
        </button>
      </div>
      
      <!-- Stats counters -->
      <div class="grid grid-cols-3 gap-8 mt-16 max-w-2xl mx-auto">
        <div class="text-center">
          <p class="text-4xl font-bold text-white counter" data-target="5000">0</p>
          <p class="text-yellow-200">Happy Customers</p>
        </div>
        <div class="text-center">
          <p class="text-4xl font-bold text-white counter" data-target="4.9">0</p>
          <p class="text-yellow-200">Rating</p>
        </div>
        <div class="text-center">
          <p class="text-4xl font-bold text-white counter" data-target="30">0</p>
          <p class="text-yellow-200">Min Delivery</p>
        </div>
      </div>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="bg-white shadow-lg sticky top-0 z-20">
    <div class="container mx-auto px-4">
      <div class="flex justify-between py-4">
        <div class="flex space-x-8">
          <button onclick="showSection('menu')" class="nav-item active flex flex-col items-center px-3 py-2">
            <i class="fas fa-utensils text-xl mb-1"></i>
            <span class="text-xs">Menu</span>
          </button>
          <button onclick="showSection('history')" class="nav-item flex flex-col items-center px-3 py-2">
            <i class="fas fa-history text-xl mb-1"></i>
            <span class="text-xs">History</span>
          </button>
        </div>
        <div class="relative">
          <button onclick="openCart()" class="bg-primary text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all relative">
            <i class="fas fa-shopping-cart text-xl"></i>
            <span id="cartCount" class="cart-badge">0</span>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Menu Section -->
  <section id="menu" class="py-12 px-4">
    <div class="container mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-heading font-bold text-dark mb-4">Our Signature Menu</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">Handcrafted with passion, served with love. Each dish tells a story of culinary artistry.</p>
      </div>
      
      <!-- Advanced search -->
      <div class="mb-8 max-w-2xl mx-auto">
        <div class="relative">
          <input type="text" id="searchInput" placeholder="Search menu items..." class="w-full p-4 pl-12 rounded-xl border shadow-sm focus:ring-2 focus:ring-primary focus:border-transparent">
          <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
          <button class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400">
            <i class="fas fa-microphone"></i>
          </button>
        </div>
        
        <div class="flex flex-wrap gap-2 mt-3 justify-center">
          <button class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-primary hover:text-white transition">Vegetarian</button>
          <button class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-primary hover:text-white transition">Spicy</button>
          <button class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-primary hover:text-white transition">Under ‚Çπ200</button>
          <button class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-primary hover:text-white transition">New</button>
        </div>
      </div>
      
      <div class="flex flex-wrap justify-center gap-3 mb-8">
        <button onclick="filterCategory('all')" class="btn-primary px-5 py-2 rounded-full text-sm font-medium">All Items</button>
        <button onclick="filterCategory('Pizza')" class="bg-white shadow px-5 py-2 rounded-full text-sm font-medium hover:shadow-md transition">Pizza</button>
        <button onclick="filterCategory('Burger')" class="bg-white shadow px-5 py-2 rounded-full text-sm font-medium hover:shadow-md transition">Burger</button>
        <button onclick="filterCategory('Sandwich')" class="bg-white shadow px-5 py-2 rounded-full text-sm font-medium hover:shadow-md transition">Sandwich</button>
        <button onclick="filterCategory('Shakes')" class="bg-white shadow px-5 py-2 rounded-full text-sm font-medium hover:shadow-md transition">Shakes</button>
      </div>
      
      <!-- Two items per slot grid - ONLY for menu items -->
      <div id="menuList" class="menu-grid">
        <!-- Menu items will be populated here -->
        <div class="col-span-2 text-center py-12">
          <div class="spinner"></div>
          <p class="mt-4 text-gray-600">Loading delicious menu items...</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Order History Section -->
  <section id="history" class="py-12 px-4 hidden">
    <div class="container mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-heading font-bold text-dark mb-4">Your Culinary Journey</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">Relive your favorite moments and discover new favorites</p>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div class="glass-card rounded-2xl p-6 shadow-xl">
          <h3 class="text-2xl font-bold text-dark mb-6 flex items-center">
            <i class="fas fa-history text-primary mr-3"></i> Recent Orders
          </h3>
          <div id="recentOrders" class="space-y-4">
            <!-- Recent orders will be populated here -->
            <div class="text-center py-8">
              <div class="spinner"></div>
              <p class="mt-4 text-gray-600">Loading your order history...</p>
            </div>
          </div>
        </div>
        
        <div class="glass-card rounded-2xl p-6 shadow-xl">
          <h3 class="text-2xl font-bold text-dark mb-6 flex items-center">
            <i class="fas fa-heart text-red-500 mr-3"></i> Favorite Combinations
          </h3>
          <div id="favoriteOrders" class="space-y-4">
            <!-- Favorite orders will be populated here -->
          </div>
        </div>
      </div>
      
      <div class="glass-card rounded-2xl p-6 shadow-xl mt-8">
        <h3 class="text-2xl font-bold text-dark mb-4">Share Your Experience</h3>
        <p class="text-gray-600 mb-4">How was your dining experience with us?</p>
        <div class="flex justify-around text-4xl">
          <span class="cursor-pointer transform hover:scale-125 transition-transform duration-300" onclick="submitFeedback('sad')">üòû</span>
          <span class="cursor-pointer transform hover:scale-125 transition-transform duration-300" onclick="submitFeedback('neutral')">üòê</span>
          <span class="cursor-pointer transform hover:scale-125 transition-transform duration-300" onclick="submitFeedback('happy')">üòä</span>
          <span class="cursor-pointer transform hover:scale-125 transition-transform duration-300" onclick="submitFeedback('excited')">ü§©</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Happy Customers Section -->
  <section class="py-12 px-4 bg-gradient-to-r from-yellow-50 to-orange-50">
    <div class="container mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-heading font-bold text-dark mb-4">Happy Customers</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">Join thousands of satisfied customers who love our food</p>
      </div>
      
      <!-- Responsive grid for testimonials -->
      <div class="responsive-grid">
        <div class="glass-card rounded-2xl p-6 shadow-xl">
          <div class="flex items-center mb-4">
            <div class="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4">
              <i class="fas fa-user text-2xl text-gray-500"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">Rajesh Kumar</h3>
              <div class="text-yellow-400 flex">
                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
              </div>
            </div>
          </div>
          <p class="text-gray-700 italic">"The best burgers in town! Fresh ingredients and quick delivery. Will definitely order again!"</p>
        </div>
        
        <div class="glass-card rounded-2xl p-6 shadow-xl">
          <div class="flex items-center mb-4">
            <div class="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4">
              <i class="fas fa-user text-2xl text-gray-500"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">Priya Sharma</h3>
              <div class="text-yellow-400 flex">
                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
              </div>
            </div>
          </div>
          <p class="text-gray-700 italic">"Loved the pizza! The crust was perfect and the toppings were fresh. Great service too!"</p>
        </div>
        
        <div class="glass-card rounded-2xl p-6 shadow-xl">
          <div class="flex items-center mb-4">
            <div class="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4">
              <i class="fas fa-user text-2xl text-gray-500"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">Amit Patel</h3>
              <div class="text-yellow-400 flex">
                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
              </div>
            </div>
          </div>
          <p class="text-gray-700 italic">"The shakes are amazing! Perfect consistency and great flavors. My kids love them!"</p>
        </div>
        
        <div class="glass-card rounded-2xl p-6 shadow-xl">
          <div class="flex items-center mb-4">
            <div class="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4">
              <i class="fas fa-user text-2xl text-gray-500"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">Sneha Gupta</h3>
              <div class="text-yellow-400 flex">
                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
              </div>
            </div>
          </div>
          <p class="text-gray-700 italic">"The sandwiches are so fresh and delicious. Perfect for a quick lunch!"</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Information -->
  <section class="py-12 px-4">
    <div class="container mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-heading font-bold text-dark mb-4">Get In Touch</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">We'd love to hear from you. Visit us or connect online!</p>
      </div>
      
      <!-- Responsive grid for contact info -->
      <div class="responsive-grid">
        <!-- Location and Map -->
        <div class="glass-card rounded-2xl p-6 shadow-xl">
          <h3 class="text-2xl font-bold text-dark mb-6 flex items-center">
            <i class="fas fa-map-marker-alt text-primary mr-3"></i> Our Location
          </h3>
          <div class="bg-gray-200 rounded-xl h-48 mb-6 flex items-center justify-center">
            <iframe 
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3529.87050048481!2d75.815857!3d26.846693!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x396c4adf4c5d0d9f%3A0x1a0b2b0e0b0b0b0b!2sJaipur%2C%20Rajasthan!5e0!3m2!1sen!2sin!4v1620000000000!5m2!1sen!2sin" 
              width="100%" 
              height="100%" 
              style="border:0; border-radius: 12px;" 
              allowfullscreen="" 
              loading="lazy">
            </iframe>
          </div>
          <p class="text-gray-700 mb-4">
            <i class="fas fa-map-marker-alt text-primary mr-2"></i>
            123 Food Street, Culinary District, Jaipur
          </p>
          <p class="text-gray-700">
            <i class="fas fa-phone-alt text-primary mr-2"></i>
            +91 9835124772
          </p>
        </div>
        
        <!-- Social Media and Contact -->
        <div class="glass-card rounded-2xl p-6 shadow-xl">
          <h3 class="text-2xl font-bold text-dark mb-6">Connect With Us</h3>
          
          <!-- Social Media Links -->
          <div class="space-y-4 mb-8">
            <a href="https://wa.me/919835124772" target="_blank" class="bg-green-500 text-white rounded-xl p-4 text-center flex items-center justify-center hover:bg-green-600 transition transform hover:scale-105">
              <i class="fab fa-whatsapp text-2xl mr-3"></i>
              <span class="font-bold">WhatsApp</span>
            </a>
            <a href="https://facebook.com" target="_blank" class="bg-blue-600 text-white rounded-xl p-4 text-center flex items-center justify-center hover:bg-blue-700 transition transform hover:scale-105">
              <i class="fab fa-facebook-f text-2xl mr-3"></i>
              <span class="font-bold">Facebook</span>
            </a>
            <a href="https://instagram.com" target="_blank" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl p-4 text-center flex items-center justify-center hover:from-purple-600 hover:to-pink-600 transition transform hover:scale-105">
              <i class="fab fa-instagram text-2xl mr-3"></i>
              <span class="font-bold">Instagram</span>
            </a>
            <a href="tel:+919835124772" class="bg-red-500 text-white rounded-xl p-4 text-center flex items-center justify-center hover:bg-red-600 transition transform hover:scale-105">
              <i class="fas fa-phone-alt text-2xl mr-3"></i>
              <span class="font-bold">Call Us: +91 9835124772</span>
            </a>
          </div>
          
          <!-- Opening Hours -->
          <h4 class="text-xl font-bold text-dark mb-4">Opening Hours</h4>
          <div class="space-y-2">
            <div class="flex justify-between py-2 border-b border-gray-200">
              <span>Monday - Friday</span>
              <span class="font-medium">10:00 AM - 10:00 PM</span>
            </div>
            <div class="flex justify-between py-2 border-b border-gray-200">
              <span>Saturday</span>
              <span class="font-medium">10:00 AM - 11:00 PM</span>
            </div>
            <div class="flex justify-between py-2">
              <span>Sunday</span>
              <span class="font-medium">11:00 AM - 9:00 PM</span>
            </div>
          </div>
        </div>
        
        <!-- Loyalty Program -->
        <div class="glass-card rounded-2xl p-6 shadow-xl">
          <h3 class="text-2xl font-bold text-dark mb-6">Loyalty Rewards</h3>
          
          <div class="bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl p-5 mb-6">
            <div class="flex justify-between items-center">
              <div>
                <h4 class="font-bold text-lg mb-1">Your Points</h4>
                <p class="text-3xl font-bold">120</p>
              </div>
              <div class="text-right">
                <h4 class="font-bold text-lg mb-1">Next Reward</h4>
                <p class="text-xl">‚Çπ50 off</p>
              </div>
            </div>
            <div class="mt-4 bg-white bg-opacity-20 rounded-full h-2">
              <div class="bg-white h-2 rounded-full" style="width: 60%"></div>
            </div>
            <p class="text-xs mt-2 text-center">80 points to next reward</p>
          </div>
          
          <h4 class="text-xl font-bold text-dark mb-4">How It Works</h4>
          <ul class="space-y-3">
            <li class="flex items-start">
              <div class="bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0">1</div>
              <p>Earn 1 point for every ‚Çπ1 spent</p>
            </li>
            <li class="flex items-start">
              <div class="bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0">2</div>
              <p>Redeem 100 points for ‚Çπ50 off</p>
            </li>
            <li class="flex items-start">
              <div class="bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0">3</div>
              <p>Special bonuses on birthdays</p>
            </li>
          </ul>
        </div>
        
        <!-- Social Proof Stats -->
        <div class="glass-card rounded-2xl p-6 shadow-xl">
          <h3 class="text-2xl font-bold text-dark mb-6">Our Achievements</h3>
          
          <div class="grid grid-cols-2 gap-4">
            <div class="text-center p-4 bg-white rounded-xl shadow">
              <p class="text-3xl font-bold text-primary">4.9</p>
              <p class="text-gray-600">Average Rating</p>
            </div>
            <div class="text-center p-4 bg-white rounded-xl shadow">
              <p class="text-3xl font-bold text-primary">10K+</p>
              <p class="text-gray-600">Happy Customers</p>
            </div>
            <div class="text-center p-4 bg-white rounded-xl shadow">
              <p class="text-3xl font-bold text-primary">98%</p>
              <p class="text-gray-600">Repeat Orders</p>
            </div>
            <div class="text-center p-4 bg-white rounded-xl shadow">
              <p class="text-3xl font-bold text-primary">30min</p>
              <p class="text-gray-600">Avg Delivery Time</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Cart Modal -->
  <div id="cartModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 hidden">
    <div class="bg-white w-11/12 md:w-2/3 lg:w-1/2 max-h-96 rounded-2xl shadow-2xl overflow-hidden">
      <div class="p-6 bg-gradient-to-r from-primary to-accent text-white">
        <h3 class="text-xl font-bold flex items-center">
          <i class="fas fa-shopping-cart mr-2"></i> Your Order
        </h3>
      </div>
      <div id="cartItems" class="p-4 max-h-60 overflow-y-auto"></div>
      
      <!-- Customization Options -->
      <div class="p-4 bg-gray-50 border-t">
        <h4 class="font-bold text-sm mb-2">Customize Your Order</h4>
        <div class="grid grid-cols-2 gap-2">
          <label class="flex items-center bg-white p-2 rounded border">
            <input type="checkbox" class="mr-2"> Extra Cheese (+‚Çπ30)
          </label>
          <label class="flex items-center bg-white p-2 rounded border">
            <input type="checkbox" class="mr-2"> Spicy Sauce (+‚Çπ20)
          </label>
          <label class="flex items-center bg-white p-2 rounded border">
            <input type="checkbox" class="mr-2"> No Onion
          </label>
          <label class="flex items-center bg-white p-2 rounded border">
            <input type="checkbox" class="mr-2"> Extra Patty (+‚Çπ50)
          </label>
        </div>
      </div>
      
      <div class="p-4 border-t flex justify-between font-bold text-lg">
        <span>Total:</span>
        <span class="text-primary">‚Çπ<span id="cartTotal">0</span></span>
      </div>
      <div class="p-4 bg-gray-50 flex">
        <button onclick="closeCart()" class="flex-1 py-3 mr-2 bg-gray-300 text-gray-700 rounded-full font-medium">Cancel</button>
        <button onclick="placeOrder()" class="flex-1 py-3 bg-gradient-to-r from-primary to-accent text-white rounded-full font-medium shadow-lg hover:shadow-xl transition">Place Order</button>
      </div>
    </div>
  </div>

  <!-- Login Modal -->
  <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-2xl w-11/12 max-w-md shadow-2xl relative overflow-hidden">
      <div class="p-8">
        <div class="text-center mb-6">
          <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-user text-white text-2xl"></i>
          </div>
          <h3 class="text-2xl font-bold text-dark">Welcome Back</h3>
          <p class="text-gray-600 mt-2">Sign in to continue your culinary journey</p>
        </div>
        
        <div class="mb-6">
          <label class="block text-gray-700 mb-2 font-medium">Mobile Number</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <span class="text-gray-500">+91</span>
            </div>
            <input type="tel" id="mobileInput" placeholder="9835124772" class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" maxlength="10"/>
          </div>
        </div>
        
        <button onclick="loginUser()" class="btn-primary w-full py-3 rounded-lg font-bold text-white shadow-lg hover:shadow-xl transition w-full">
          Continue to MIRDHUNA
        </button>
        
        <p class="text-xs text-gray-500 mt-4 text-center">We'll detect your location automatically for faster delivery</p>
      </div>
    </div>
  </div>

  <!-- Quick Add Buttons -->
  <div class="fixed bottom-24 right-6 z-30 hidden md:block">
    <div class="flex flex-col space-y-3">
      <button onclick="quickAdd(2)" class="w-14 h-14 bg-primary rounded-full shadow-lg flex items-center justify-center text-white hover:bg-red-700 transition transform hover:scale-110">
        <i class="fas fa-burger"></i>
      </button>
      <button onclick="quickAdd(1)" class="w-14 h-14 bg-secondary rounded-full shadow-lg flex items-center justify-center text-white hover:bg-red-600 transition transform hover:scale-110">
        <i class="fas fa-pizza-slice"></i>
      </button>
    </div>
  </div>

  <footer class="bg-dark text-white py-12 px-4">
    <div class="container mx-auto">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-2xl font-heading font-bold mb-4">MIRDHUNA</h3>
          <p class="text-gray-400 mb-4">Crafting unforgettable culinary experiences since 2020</p>
          <div class="flex space-x-4">
            <a href="https://facebook.com" target="_blank" class="text-gray-400 hover:text-white transition">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://instagram.com" target="_blank" class="text-gray-400 hover:text-white transition">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="https://wa.me/919835124772" target="_blank" class="text-gray-400 hover:text-white transition">
              <i class="fab fa-whatsapp"></i>
            </a>
          </div>
        </div>
        
        <div>
          <h4 class="text-lg font-bold mb-4">Quick Links</h4>
          <ul class="space-y-2">
            <li><a href="#" class="text-gray-400 hover:text-white transition">Menu</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition">About Us</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition">Contact</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition">Careers</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-lg font-bold mb-4">Contact</h4>
          <ul class="space-y-2 text-gray-400">
            <li class="flex items-start">
              <i class="fas fa-map-marker-alt mt-1 mr-3"></i>
              <span>123 Food Street, Culinary District</span>
            </li>
            <li class="flex items-center">
              <i class="fas fa-phone-alt mr-3"></i>
              <span>+91 9835124772</span>
            </li>
            <li class="flex items-center">
              <i class="fas fa-envelope mr-3"></i>
              <span>hello@mirdhuna.com</span>
            </li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-lg font-bold mb-4">Opening Hours</h4>
          <ul class="space-y-2 text-gray-400">
            <li class="flex justify-between">
              <span>Monday - Friday</span>
              <span>10:00 AM - 10:00 PM</span>
            </li>
            <li class="flex justify-between">
              <span>Saturday</span>
              <span>10:00 AM - 11:00 PM</span>
            </li>
            <li class="flex justify-between">
              <span>Sunday</span>
              <span>11:00 AM - 9:00 PM</span>
            </li>
          </ul>
        </div>
      </div>
      
      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-500">
        <p>¬© 2025 MIRDHUNA Caf√©. All rights reserved. Crafted with ‚ù§Ô∏è for food lovers</p>
      </div>
    </div>
  </footer>

  <script>
    // Supabase Configuration
    const SUPABASE_URL = 'https://cfgjvbhfhfgskssopknn.supabase.co';
    const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNmZ2p2YmhmaGZnc2tzc29wa25uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMDQ1MzQsImV4cCI6MjA2OTc4MDUzNH0.uAsDR4Vj7fSQ7q5Qz859WPzj7qlJIsHpF23Rl7dmj7w';
    
    // Initialize Supabase
    const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
    
    // Global variables
    let userPhone = null;
    let userLocation = null;
    let cart = [];
    let menuItems = [];
    let orderHistory = [];
    let favoriteOrders = [
      { name: "Burger Feast", items: [{name: "Gourmet Cheeseburger", qty: 1}, {name: "Truffle Fries", qty: 1}], price: 209 },
      { name: "Pizza Night", items: [{name: "Truffle Margherita", qty: 1}, {name: "Belgian Chocolate Shake", qty: 1}], price: 448 },
      { name: "Healthy Combo", items: [{name: "Avocado Club Sandwich", qty: 1}, {name: "Belgian Chocolate Shake", qty: 1}], price: 348 }
    ];
    
    // Initialize the app
    async function initApp() {
      await loadMenu();
      await loadOrderHistory();
      displayFavoriteOrders();
      animateCounters();
      
      // Subscribe to real-time order updates
      subscribeToOrderUpdates();
    }
    
    // Load menu items from Supabase
    async function loadMenu() {
      try {
        const { data, error } = await supabase
          .from('menu_items')
          .select('*')
          .order('category');
        
        if (error) throw error;
        
        menuItems = data;
        displayMenu();
      } catch (error) {
        console.error('Error loading menu:', error);
        showtoast("Failed to load menu. Please try again.");
      }
    }
    
    // Display menu items
    function displayMenu() {
      const container = document.getElementById('menuList');
      container.innerHTML = '';
      
      if (menuItems.length === 0) {
        container.innerHTML = '<p class="col-span-2 text-center py-8 text-gray-500">No menu items available</p>';
        return;
      }
      
      menuItems.forEach((item, index) => {
        setTimeout(() => {
          const div = document.createElement('div');
          div.className = 'menu-card bg-white rounded-2xl overflow-hidden shadow-lg';
          div.style.animation = `fadeInUp 0.5s ease-out ${index * 0.1}s both`;
          div.innerHTML = `
            <div class="relative">
              <img src="${item.image_path}" alt="${item.name}" class="w-full h-48 object-cover transition-transform duration-500 hover:scale-110">
              <div class="absolute top-4 right-4 bg-primary text-white px-3 py-1 rounded-full text-sm font-bold">
                ‚Çπ${item.price}
              </div>
              <!-- Interactive hover effect -->
              <div class="absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                <div class="text-white opacity-0 hover:opacity-100 transition-opacity duration-300 text-center p-4">
                  <p class="text-sm">Mozzarella, Basil, Tomato Sauce</p>
                </div>
              </div>
            </div>
            <div class="p-6">
              <h3 class="text-xl font-bold text-dark mb-2">${item.name}</h3>
              <p class="text-gray-600 mb-4">Premium ingredients crafted to perfection</p>
              <button onclick="addToCart(${item.id})" class="btn-primary w-full py-3 rounded-lg font-bold text-white shadow hover:shadow-lg transition">
                <i class="fas fa-plus mr-2"></i> Add to Cart
              </button>
            </div>
          `;
          container.appendChild(div);
        }, index * 100);
      });
    }
    
    // Filter menu by category
    function filterCategory(category) {
      const filtered = category === 'all' ? menuItems : menuItems.filter(i => i.category === category);
      const container = document.getElementById('menuList');
      container.innerHTML = '';
      
      if (filtered.length === 0) {
        container.innerHTML = '<p class="col-span-2 text-center py-8 text-gray-500">No items in this category</p>';
        return;
      }
      
      filtered.forEach((item, index) => {
        setTimeout(() => {
          const div = document.createElement('div');
          div.className = 'menu-card bg-white rounded-2xl overflow-hidden shadow-lg';
          div.style.animation = `fadeInUp 0.5s ease-out ${index * 0.1}s both`;
          div.innerHTML = `
            <div class="relative">
              <img src="${item.image_path}" alt="${item.name}" class="w-full h-48 object-cover transition-transform duration-500 hover:scale-110">
              <div class="absolute top-4 right-4 bg-primary text-white px-3 py-1 rounded-full text-sm font-bold">
                ‚Çπ${item.price}
              </div>
              <!-- Interactive hover effect -->
              <div class="absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                <div class="text-white opacity-0 hover:opacity-100 transition-opacity duration-300 text-center p-4">
                  <p class="text-sm">Mozzarella, Basil, Tomato Sauce</p>
                </div>
              </div>
            </div>
            <div class="p-6">
              <h3 class="text-xl font-bold text-dark mb-2">${item.name}</h3>
              <p class="text-gray-600 mb-4">Premium ingredients crafted to perfection</p>
              <button onclick="addToCart(${item.id})" class="btn-primary w-full py-3 rounded-lg font-bold text-white shadow hover:shadow-lg transition">
                <i class="fas fa-plus mr-2"></i> Add to Cart
              </button>
            </div>
          `;
          container.appendChild(div);
        }, index * 100);
      });
    }
    
    // Load order history from Supabase
    async function loadOrderHistory() {
      if (!userPhone) return;
      
      try {
        const { data, error } = await supabase
          .from('orders')
          .select('*')
          .eq('user_phone', userPhone)
          .order('ordered_at', { ascending: false });
        
        if (error) throw error;
        
        orderHistory = data;
        displayRecentOrders();
      } catch (error) {
        console.error('Error loading order history:', error);
        showtoast("Failed to load order history.");
      }
    }
    
    // Display recent orders
    function displayRecentOrders() {
      const container = document.getElementById('recentOrders');
      container.innerHTML = '';
      
      if (orderHistory.length === 0) {
        container.innerHTML = '<p class="text-center py-8 text-gray-500">No order history yet</p>';
        return;
      }
      
      orderHistory.slice(0, 3).forEach(order => {
        const div = document.createElement('div');
        div.className = 'history-item bg-white p-4 rounded-lg shadow';
        div.innerHTML = `
          <div class="flex justify-between items-start">
            <div>
              <p class="font-bold text-dark">Order #${order.id.toString().slice(-4)}</p>
              <p class="text-sm text-gray-600 mt-1">${order.items.map(i => `${i.name} x${i.qty}`).join(', ')}</p>
              <p class="text-xs text-gray-500 mt-2">${new Date(order.ordered_at).toLocaleDateString()}</p>
              <span class="inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${
                order.status === 'pending' ? 'status-pending' :
                order.status === 'preparing' ? 'status-preparing' :
                order.status === 'ready' ? 'status-ready' : 'status-delivered'
              }">
                ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}
              </span>
            </div>
            <div class="text-right">
              <p class="font-bold text-primary">‚Çπ${order.total}</p>
              <button onclick="reorder(${order.id})" class="mt-2 bg-primary text-white px-3 py-1 rounded-full text-xs font-medium">
                Reorder
              </button>
            </div>
          </div>
        `;
        container.appendChild(div);
      });
    }
    
    // Display favorite orders
    function displayFavoriteOrders() {
      const container = document.getElementById('favoriteOrders');
      container.innerHTML = '';
      
      favoriteOrders.forEach((order, index) => {
        const div = document.createElement('div');
        div.className = 'history-item bg-white p-4 rounded-lg shadow';
        div.innerHTML = `
          <div class="flex justify-between items-start">
            <div>
              <p class="font-bold text-dark">${order.name}</p>
              <p class="text-sm text-gray-600 mt-1">${order.items.map(i => `${i.name} x${i.qty}`).join(', ')}</p>
            </div>
            <div class="text-right">
              <p class="font-bold text-primary">‚Çπ${order.price}</p>
              <button onclick="orderFavorite(${index})" class="mt-2 bg-gradient-to-r from-accent to-orange-500 text-white px-3 py-1 rounded-full text-xs font-medium">
                Order Now
              </button>
            </div>
          </div>
        `;
        container.appendChild(div);
      });
    }
    
    // Subscribe to real-time order updates
    function subscribeToOrderUpdates() {
      if (!userPhone) return;
      
      supabase
        .channel('orders')
        .on(
          'postgres_changes',
          {
            event: 'UPDATE',
            schema: 'public',
            table: 'orders',
            filter: `user_phone=eq.${userPhone}`
          },
          (payload) => {
            // Update the order in local history
            const updatedOrder = payload.new;
            const index = orderHistory.findIndex(o => o.id === updatedOrder.id);
            if (index !== -1) {
              orderHistory[index] = updatedOrder;
              displayRecentOrders();
              showtoast(`Order status updated to: ${updatedOrder.status}`);
            }
          }
        )
        .subscribe();
    }
    
    // Add item to cart
    function addToCart(id) {
      if (!userPhone) return openLoginModal();
      const item = menuItems.find(i => i.id === id);
      const existing = cart.find(c => c.id === id);
      if (existing) existing.qty += 1;
      else cart.push({ ...item, qty: 1 });
      updateCartUI();
      showtoast("Added to cart!");
    }
    
    // Quick add buttons
    function quickAdd(id) {
      if (!userPhone) return openLoginModal();
      const item = menuItems.find(i => i.id === id);
      cart.push({ ...item, qty: 1 });
      updateCartUI();
      showtoast("${item.name} added to cart!");
    }
    
    // Update cart UI
    function updateCartUI() {
      document.getElementById('cartCount').textContent = cart.reduce((sum, i) => sum + i.qty, 0);
    }
    
    // Show toast notification
    function showtoast(msg) {
      const t = document.getElementById('toast');
      t.textContent = msg;
      t.classList.add('show');
      setTimeout(() => t.classList.remove('show'), 3000);
    }
    
    // Open login modal
    function openLoginModal() { 
      document.getElementById('loginModal').classList.remove('hidden'); 
    }
    
    // Close cart modal
    function closeCart() { 
      document.getElementById('cartModal').classList.add('hidden'); 
    }
    
    // Open cart modal
    function openCart() {
      const container = document.getElementById('cartItems');
      container.innerHTML = '';
      let total = 0;
      
      if (cart.length === 0) {
        container.innerHTML = '<p class="text-center py-8 text-gray-500">Your cart is empty</p>';
      } else {
        cart.forEach(item => {
          const itemTotal = item.price * item.qty;
          total += itemTotal;
          const div = document.createElement('div');
          div.className = 'flex justify-between items-center py-4 border-b';
          div.innerHTML = `
            <div>
              <p class="font-medium text-dark">${item.name}</p>
              <p class="text-sm text-gray-600">Qty: ${item.qty}</p>
            </div>
            <div class="text-right">
              <p class="font-bold text-primary">‚Çπ${itemTotal}</p>
              <button onclick="removeFromCart(${item.id})" class="text-red-500 text-sm mt-1">
                <i class="fas fa-trash"></i> Remove
              </button>
            </div>
          `;
          container.appendChild(div);
        });
      }
      
      document.getElementById('cartTotal').textContent = total;
      document.getElementById('cartModal').classList.remove('hidden');
    }
    
    // Remove item from cart
    function removeFromCart(id) {
      cart = cart.filter(item => item.id !== id);
      openCart(); // Refresh cart display
      updateCartUI();
    }
    
    // Show section
    function showSection(id) {
      document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
      document.getElementById(id).classList.remove('hidden');
      
      // Update nav active state
      document.querySelectorAll('.nav-item').forEach(btn => {
        btn.classList.remove('active');
      });
      
      if (id === 'menu') {
        document.querySelectorAll('.nav-item')[0].classList.add('active');
      } else if (id === 'history') {
        document.querySelectorAll('.nav-item')[1].classList.add('active');
      }
      
      // Show/hide quick add buttons
      if (id === 'menu') {
        document.querySelector('.fixed.bottom-24.right-6').classList.remove('hidden');
      } else {
        document.querySelector('.fixed.bottom-24.right-6').classList.add('hidden');
      }
    }
    
    // User login
    async function loginUser() {
      const num = document.getElementById('mobileInput').value.trim();
      if (!num || num.length !== 10) return showtoast("Enter valid 10-digit number");
      userPhone = '91' + num;
      userLocation = await detectLocation();
      
      // Save login log to Supabase
      try {
        await supabase.from('login_logs').insert({
          phone: userPhone,
          location_lat: userLocation.lat,
          location_lng: userLocation.lng,
          timestamp: new Date().toISOString()
        });
      } catch (error) {
        console.error('Error saving login log:', error);
      }
      
      document.getElementById('loginModal').classList.add('hidden');
      showtoast("Welcome back! Happy ordering");
      
      // Reload data for logged in user
      await loadOrderHistory();
      subscribeToOrderUpdates();
    }
    
    // Detect location
    async function detectLocation() {
      return new Promise(resolve => {
        if (!navigator.geolocation) resolve({ lat: 0, lng: 0 });
        else {
          navigator.geolocation.getCurrentPosition(
            pos => {
              const crd = pos.coords;
              resolve({ lat: crd.latitude, lng: crd.longitude });
            },
            () => {
              showtoast("Location access denied. Using default location");
              resolve({ lat: 0, lng: 0 });
            }
          );
        }
      });
    }
    
    // Place order with WhatsApp receipts
    async function placeOrder() {
      if (cart.length === 0) return showtoast("Cart is empty");
      
      let total = cart.reduce((sum, i) => sum + (i.price * i.qty), 0);
      
      // Create order object
      const newOrder = {
        user_phone: userPhone,
        items: cart,
        total: total,
        status: "pending",
        user_location: userLocation,
        ordered_at: new Date().toISOString()
      };
      
      try {
        // Save order to Supabase
        const { data, error } = await supabase
          .from('orders')
          .insert([newOrder])
          .select();
        
        if (error) throw error;
        
        const order = data[0];
        
        // Update order history
        orderHistory.unshift(order);
        displayRecentOrders();
        
        // Send WhatsApp receipts
        sendWhatsAppReceiptToBusiness(order);
        sendWhatsAppReceiptToCustomer(order);
        
        showtoast("Order placed successfully! üéâ");
        cart = [];
        updateCartUI();
        closeCart();
      } catch (error) {
        console.error('Error placing order:', error);
        showtoast("Failed to place order. Please try again.");
      }
    }
    
    // WhatsApp receipt to business
    function sendWhatsAppReceiptToBusiness(order) {
      const message = `‚úÖ *NEW ORDER - MIRDHUNA*

Order ID: #${order.id.toString().slice(-4)}
Items: ${order.items.map(i => `${i.name} x${i.qty}`).join(', ')}
Total: ‚Çπ${order.total}
Status: ${order.status}

Customer Phone: ${order.user_phone}
Location: ${order.user_location.lat}, ${order.user_location.lng}
È¢ÑËÆ°ÂáÜÂ§áÊó∂Èó¥: 20-30 mins

Prepare order now!`;
      
      const encodedMsg = encodeURIComponent(message);
      window.open(`https://wa.me/919835124772?text=${encodedMsg}`, '_blank');
    }
    
    // WhatsApp receipt to customer
    function sendWhatsAppReceiptToCustomer(order) {
      const message = `‚úÖ *MIRDHUNA ORDER CONFIRMATION*

Hello! Thank you for your order #${order.id.toString().slice(-4)}

Items: ${order.items.map(i => `${i.name} x${i.qty}`).join(', ')}
Total: ‚Çπ${order.total}
Status: ${order.status}

È¢ÑËÆ°ÂáÜÂ§áÊó∂Èó¥: 20-30 mins
Delivery to: ${order.user_location.lat}, ${order.user_location.lng}

We'll prepare your order soon! 
Questions? Reply to this message.

Thank you for choosing MIRDHUNA! üçîüçï`;
      
      const customerNumber = order.user_phone.replace('+91', '');
      const encodedMsg = encodeURIComponent(message);
      window.open(`https://wa.me/${customerNumber}?text=${encodedMsg}`, '_blank');
    }
    
    // Reorder function
    function reorder(orderId) {
      if (!userPhone) return openLoginModal();
      
      const order = orderHistory.find(o => o.id === orderId);
      if (!order) return;
      
      // Clear cart and add items from order
      cart = [];
      order.items.forEach(item => {
        const menuItem = menuItems.find(m => m.name === item.name);
        if (menuItem) {
          cart.push({ ...menuItem, qty: item.qty });
        }
      });
      
      updateCartUI();
      openCart();
      showtoast("Order added to cart!");
    }
    
    // Order favorite combination
    function orderFavorite(index) {
      if (!userPhone) return openLoginModal();
      
      const favorite = favoriteOrders[index];
      if (!favorite) return;
      
      // Clear cart and add items from favorite
      cart = [];
      favorite.items.forEach(item => {
        const menuItem = menuItems.find(m => m.name === item.name);
        if (menuItem) {
          cart.push({ ...menuItem, qty: item.qty });
        }
      });
      
      updateCartUI();
      openCart();
      showtoast("${favorite.name} added to cart!");
    }
    
    // Submit feedback
    function submitFeedback(feedback) {
      const feedbacks = {
        sad: "We're sorry to hear that. We'll work to improve!",
        neutral: "Thank you for your feedback. We appreciate it!",
        happy: "Wonderful! We're thrilled you enjoyed your experience!",
        excited: "Absolutely thrilled! Thank you for the love! üéâ"
      };
      
      showtoast(feedbacks[feedback]);
    }
    
    // Animate counters
    function animateCounters() {
      const counters = document.querySelectorAll('.counter');
      counters.forEach(counter => {
        const target = +counter.getAttribute('data-target');
        const increment = target / 100;
        let current = 0;
        
        const updateCounter = () => {
          if (current < target) {
            current += increment;
            counter.innerText = Math.ceil(current);
            setTimeout(updateCounter, 20);
          } else {
            counter.innerText = target;
          }
        };
        
        updateCounter();
      });
    }
    
    // Search functionality
    document.getElementById('searchInput').addEventListener('input', function() {
      const searchTerm = this.value.toLowerCase();
      const menuCards = document.querySelectorAll('#menuList .menu-card');
      
      menuCards.forEach(card => {
        const itemName = card.querySelector('h3').textContent.toLowerCase();
        if (itemName.includes(searchTerm)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });
    
    // Initialize the app when page loads
    window.onload = initApp;
  </script>
</body>
      </html>
